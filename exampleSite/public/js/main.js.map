{"version":3,"sources":["file:///Users/yuy0ung/Desktop/yuque-pro/assets/js/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () =\u003e {\n  console.log('Yuque Pro: JS Loaded');\n\n  // Theme Toggle\n  const themeToggleBtn = document.getElementById('theme-toggle');\n  const html = document.documentElement;\n  \n  // Check local storage\n  const savedTheme = localStorage.getItem('theme');\n  if (savedTheme) {\n    html.setAttribute('data-theme', savedTheme);\n  } else if (window.matchMedia \u0026\u0026 window.matchMedia('(prefers-color-scheme: dark)').matches) {\n    html.setAttribute('data-theme', 'dark');\n  }\n\n  if (themeToggleBtn) {\n    themeToggleBtn.addEventListener('click', () =\u003e {\n      const currentTheme = html.getAttribute('data-theme');\n      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\n      html.setAttribute('data-theme', newTheme);\n      localStorage.setItem('theme', newTheme);\n      console.log('Theme changed to:', newTheme);\n    });\n  }\n\n  // Tree Toggle\n  const toggles = document.querySelectorAll('.tree-toggle');\n  toggles.forEach(toggle =\u003e {\n    toggle.addEventListener('click', (e) =\u003e {\n      e.preventDefault();\n      e.stopPropagation(); // Stop bubbling\n      const parent = toggle.parentElement;\n      const children = parent.querySelector('.tree-children');\n      if (children) {\n        children.classList.toggle('hidden');\n        toggle.classList.toggle('collapsed');\n        toggle.classList.toggle('expanded');\n      }\n    });\n  });\n\n  // Highlight Active Link\n  const currentUrl = window.location.pathname;\n  console.log('Current URL:', currentUrl);\n  \n  const links = document.querySelectorAll('.tree a');\n  links.forEach(link =\u003e {\n    // Simple normalization\n    const linkHref = link.getAttribute('href');\n    if (linkHref \u0026\u0026 (linkHref === currentUrl || linkHref.replace(/\\/$/, '') === currentUrl.replace(/\\/$/, ''))) {\n      link.style.fontWeight = 'bold';\n      link.style.color = 'var(--link-color)';\n      // Expand parents\n      let parent = link.closest('.tree-children');\n      while (parent) {\n        parent.classList.remove('hidden');\n        const toggle = parent.parentElement.querySelector('.tree-toggle');\n        if (toggle) {\n          toggle.classList.remove('collapsed');\n          toggle.classList.add('expanded');\n        }\n        parent = parent.parentElement.closest('.tree-children');\n      }\n    }\n  });\n\n  // Hover Preview\n  const tooltip = document.createElement('div');\n  tooltip.className = 'preview-tooltip';\n  document.body.appendChild(tooltip);\n\n  let hoverTimeout;\n  const articleLinks = document.querySelectorAll('.article-link');\n\n  articleLinks.forEach(link =\u003e {\n    link.addEventListener('mouseenter', (e) =\u003e {\n      const summary = link.getAttribute('data-summary');\n      if (!summary) return;\n\n      hoverTimeout = setTimeout(() =\u003e {\n        // Limit summary length\n        const truncatedSummary = summary.length \u003e 200 ? summary.substring(0, 200) + '...' : summary;\n        tooltip.textContent = truncatedSummary;\n        tooltip.style.display = 'block';\n        \n        // Position tooltip\n        const rect = link.getBoundingClientRect();\n        // Check if tooltip goes off screen\n        let left = rect.right + 10;\n        if (left + 300 \u003e window.innerWidth) {\n            left = rect.left - 310;\n        }\n        \n        tooltip.style.left = `${left}px`;\n        tooltip.style.top = `${rect.top}px`;\n      }, 1000);\n    });\n\n    link.addEventListener('mouseleave', () =\u003e {\n      clearTimeout(hoverTimeout);\n      tooltip.style.display = 'none';\n    });\n  });\n});\n"],"mappings":";;AAAA,WAAS,iBAAiB,oBAAoB,MAAM;AAClD,YAAQ,IAAI,sBAAsB;AAGlC,UAAM,iBAAiB,SAAS,eAAe,cAAc;AAC7D,UAAM,OAAO,SAAS;AAGtB,UAAM,aAAa,aAAa,QAAQ,OAAO;AAC/C,QAAI,YAAY;AACd,WAAK,aAAa,cAAc,UAAU;AAAA,IAC5C,WAAW,OAAO,cAAc,OAAO,WAAW,8BAA8B,EAAE,SAAS;AACzF,WAAK,aAAa,cAAc,MAAM;AAAA,IACxC;AAEA,QAAI,gBAAgB;AAClB,qBAAe,iBAAiB,SAAS,MAAM;AAC7C,cAAM,eAAe,KAAK,aAAa,YAAY;AACnD,cAAM,WAAW,iBAAiB,SAAS,UAAU;AACrD,aAAK,aAAa,cAAc,QAAQ;AACxC,qBAAa,QAAQ,SAAS,QAAQ;AACtC,gBAAQ,IAAI,qBAAqB,QAAQ;AAAA,MAC3C,CAAC;AAAA,IACH;AAGA,UAAM,UAAU,SAAS,iBAAiB,cAAc;AACxD,YAAQ,QAAQ,YAAU;AACxB,aAAO,iBAAiB,SAAS,CAAC,MAAM;AACtC,UAAE,eAAe;AACjB,UAAE,gBAAgB;AAClB,cAAM,SAAS,OAAO;AACtB,cAAM,WAAW,OAAO,cAAc,gBAAgB;AACtD,YAAI,UAAU;AACZ,mBAAS,UAAU,OAAO,QAAQ;AAClC,iBAAO,UAAU,OAAO,WAAW;AACnC,iBAAO,UAAU,OAAO,UAAU;AAAA,QACpC;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAGD,UAAM,aAAa,OAAO,SAAS;AACnC,YAAQ,IAAI,gBAAgB,UAAU;AAEtC,UAAM,QAAQ,SAAS,iBAAiB,SAAS;AACjD,UAAM,QAAQ,UAAQ;AAEpB,YAAM,WAAW,KAAK,aAAa,MAAM;AACzC,UAAI,aAAa,aAAa,cAAc,SAAS,QAAQ,OAAO,EAAE,MAAM,WAAW,QAAQ,OAAO,EAAE,IAAI;AAC1G,aAAK,MAAM,aAAa;AACxB,aAAK,MAAM,QAAQ;AAEnB,YAAI,SAAS,KAAK,QAAQ,gBAAgB;AAC1C,eAAO,QAAQ;AACb,iBAAO,UAAU,OAAO,QAAQ;AAChC,gBAAM,SAAS,OAAO,cAAc,cAAc,cAAc;AAChE,cAAI,QAAQ;AACV,mBAAO,UAAU,OAAO,WAAW;AACnC,mBAAO,UAAU,IAAI,UAAU;AAAA,UACjC;AACA,mBAAS,OAAO,cAAc,QAAQ,gBAAgB;AAAA,QACxD;AAAA,MACF;AAAA,IACF,CAAC;AAGD,UAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,YAAQ,YAAY;AACpB,aAAS,KAAK,YAAY,OAAO;AAEjC,QAAI;AACJ,UAAM,eAAe,SAAS,iBAAiB,eAAe;AAE9D,iBAAa,QAAQ,UAAQ;AAC3B,WAAK,iBAAiB,cAAc,CAAC,MAAM;AACzC,cAAM,UAAU,KAAK,aAAa,cAAc;AAChD,YAAI,CAAC,QAAS;AAEd,uBAAe,WAAW,MAAM;AAE9B,gBAAM,mBAAmB,QAAQ,SAAS,MAAM,QAAQ,UAAU,GAAG,GAAG,IAAI,QAAQ;AACpF,kBAAQ,cAAc;AACtB,kBAAQ,MAAM,UAAU;AAGxB,gBAAM,OAAO,KAAK,sBAAsB;AAExC,cAAI,OAAO,KAAK,QAAQ;AACxB,cAAI,OAAO,MAAM,OAAO,YAAY;AAChC,mBAAO,KAAK,OAAO;AAAA,UACvB;AAEA,kBAAQ,MAAM,OAAO,GAAG,IAAI;AAC5B,kBAAQ,MAAM,MAAM,GAAG,KAAK,GAAG;AAAA,QACjC,GAAG,GAAI;AAAA,MACT,CAAC;AAED,WAAK,iBAAiB,cAAc,MAAM;AACxC,qBAAa,YAAY;AACzB,gBAAQ,MAAM,UAAU;AAAA,MAC1B,CAAC;AAAA,IACH,CAAC;AAAA,EACH,CAAC;","names":[]}