---
title: "堡垒机的利用思路"
date: 2025-12-11T00:00:00+08:00
draft: false
---

# 堡垒机的利用思路

堡垒机是一种网络安全设备，用于保护和管理企业内部网络与外部网络之间的访问。它作为一种中间节点，提供安全的访问控制和审计功能，用于保护内部网络免受未经授权的访问和攻击。堡垒机通常被用作跳板服务器，即通过堡垒机来管理和访问其他内部服务器

### 目标重要性

在攻击视角下，堡垒机是一个非常有价值的攻击目标

* **重要目标**

  堡垒机是连接到内部网络的关键入口，一旦黑客成功入侵堡垒机，他们可以借助它进一步深入内部网络，并获取更多敏感信息或控制其他主机

* **暴露在公网上**

  堡垒机通常暴露在公共网络上，这使得黑客可以直接尝试攻击它。由于它的角色是接收和处理远程连接，它可能会受到来自Internet的各种攻击，如暴力破解、漏洞利用、拒绝服务攻击等

* **权限提升**

  一旦黑客成功入侵堡垒机，他们通常会试图获取更高的权限。堡垒机通常具有管理权限和广泛的网络访问权限，因此黑客可以尝试利用漏洞、弱密码或其他技术手段来提升他们的权限，以获取更大的控制权

* **内部网络访问**

  堡垒机是黑客进入内部网络的关键点，一旦黑客成功控制了堡垒机，他们可以使用它作为跳板来访问其他内部主机，探测网络拓扑、获取敏感数据、执行恶意操作等

从安全问题上，堡垒机也十分重要：

* **数据泄露和隐私问题**

  攻击者可以利用堡垒机访问和窃取客户敏感数据，包括个人身份信息、财务数据和商业机密

* **服务影响**

  攻击者可能通过破坏堡垒机或拒绝服务攻击的方式使堡垒机无法正常运行，影响正常业务

* **身份欺骗**

  攻击者可能通过攻击堡垒机获得合法用户的身份和权限来进行更深入的内部渗透

* **未授权访问内部系统**

  攻击者可能成功非法获取堡垒机的访问权限，访问和控制内部系统和服务器

### 攻击面&攻击路径

列举一些常见攻击面用于参考：

* **操作系统漏洞**

  堡垒机使用的操作系统可能存在已知或未知的漏洞，二进制层面相关漏洞

* **应用程序漏洞**

  堡垒机的应用程序可能存在漏洞，web层面的漏洞

* **弱密码和凭据管理**

  堡垒机用户使用弱口令或凭据管理不当

* **供应链攻击**

  堡垒机的供应链环节可能存在漏洞或被恶意篡改，进行供应链投毒

* **社会工程学攻击**

  攻击者可以通过钓鱼邮件等社会工程学手段来欺骗堡垒机的用户或管理员，以获取其凭据或执行恶意操作

由此我们可以组合出一些攻击路径：

#### 0day/nday攻击

* 通过堡垒机的n day甚至是堡垒机的0day对堡垒机实施攻击，比如通过绕过认证直接访问堡垒机的web控制台，获取堡垒机的web管理权限
* 控制堡垒机所管理的资产

#### 供应链

* 首先攻击堡垒机供应商，在堡垒机中植入恶意代码，作为后门
* 具有恶意后门的堡垒机被下载部署到企业环境中
* 通过连接事先留下的后门，控制堡垒机

#### 钓鱼从内到外

* 通过钓鱼的方式控制目标AD域一台域成员机
* 进行一系列操作获得域控权限
* 尝试重置堡垒机管理员账户密码
* 登录堡垒机
* 通过堡垒机的web控制台直接控制企业核心生产网服务器集群